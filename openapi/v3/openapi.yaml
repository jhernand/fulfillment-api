openapi: 3.0.1
info:
  title: Fulfillment API
  contact:
    name: Innabox project
    url: https://github.com/innabox
  license:
    name: Apache-2.0
    url: https://github.com/innabox/fulfillment-api/blob/main/LICENSE
  version: 0.0.1
servers:
- url: /
tags:
- name: ClusterOrders
- name: ClusterTemplates
- name: Clusters
- name: Events
paths:
  /api/fulfillment/v1/cluster_orders:
    get:
      tags:
      - ClusterOrders
      summary: Retrieves the list of cluster orders.
      operationId: ClusterOrders_List
      parameters:
      - name: offset
        in: query
        description: Index of the first result. If not specified the default value
          will be zero.
        required: false
        style: form
        explode: true
        schema:
          type: integer
          format: int32
      - name: limit
        in: query
        description: |-
          Maximum number of results to be returned by the server. When not specified all the results will be returned. Note
          that there may not be enough results to return, and that the server may decide, for performance reasons, to return
          less results than requested.
        required: false
        style: form
        explode: true
        schema:
          type: integer
          format: int32
      - name: filter
        in: query
        description: |-
          Filter criteria.

          The syntax of this parameter is similar to the syntax of the _where_ clause of a SQL statement, but using the names
          of the attributes of the order instead of the names of the columns of a table. For example, in order to retrieve
          all the orders with state `FULFILLED` the value should be:

              state = 'FULLFILLED'

          If this isn't provided, or if the value is empty, then all the orders that the user has permission to see will be
          returned.
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: order
        in: query
        description: |-
          Order criteria.

          The syntax of this parameter is similar to the syntax of the _order by_ clause of a SQL statement, but using the
          names of the attributes of the order instead of the names of the columns of a table. For example, in order to sort
          the orders descending by state the value should be:

              state desc

          If the parameter isn't provided, or if the value is empty, then the order of the results is undefined.
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClusterOrdersListResponse"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
    post:
      tags:
      - ClusterOrders
      summary: Creates a new cluster order.
      operationId: ClusterOrders_Create
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1ClusterOrder"
        required: true
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClusterOrder"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
      x-codegen-request-body-name: object
  /api/fulfillment/v1/cluster_orders/{id}:
    get:
      tags:
      - ClusterOrders
      summary: Retrieves the details of one specific cluster order.
      operationId: ClusterOrders_Get
      parameters:
      - name: id
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClusterOrder"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
    delete:
      tags:
      - ClusterOrders
      summary: Delete a cluster order.
      operationId: ClusterOrders_Delete
      parameters:
      - name: id
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClusterOrdersDeleteResponse"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
  /api/fulfillment/v1/cluster_orders/{id}/status:
    patch:
      tags:
      - ClusterOrders
      summary: Updates the status of a cluster order.
      description: |-
        In the HTTP+JSON version of the API this is mapped to the `PATCH` verb and the `update_mask` field is automatically
        populated from the list of fields present in the request body. For example, to update the `state` of an order to
        `FULFILLED` the request line should be like this:

        ```http
        PATCH /api/fulfillment/v1/cluster_orders/123/status
        ```

        And the request body should be like this:

        ```json
        {
          "state": "CLUSTER_ORDER_STATE_FULFILLED"
        }
        ```

        The response body will contain the modified status.
      operationId: ClusterOrders_UpdateStatus
      parameters:
      - name: id
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1ClusterOrderStatus"
        required: true
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClusterOrderStatus"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
      x-codegen-request-body-name: status
  /api/fulfillment/v1/cluster_templates:
    get:
      tags:
      - ClusterTemplates
      summary: Retrieves the list of cluster templates.
      operationId: ClusterTemplates_List
      parameters:
      - name: offset
        in: query
        description: Index of the first result. If not specified the default value
          will be zero.
        required: false
        style: form
        explode: true
        schema:
          type: integer
          format: int32
      - name: limit
        in: query
        description: |-
          Maximum number of results to be returned by the server. When not specified all the results will be returned. Note
          that there may not be enough results to return, and that the server may decide, for performance reasons, to return
          less results than requested.
        required: false
        style: form
        explode: true
        schema:
          type: integer
          format: int32
      - name: filter
        in: query
        description: |-
          Filter criteria.

          The syntax of this parameter is similar to the syntax of the _where_ clause of a SQL statement, but using the names
          of the attributes of the template instead of the names of the columns of a table. For example, in order to retrieve
          all the templates with a title starting with `large` the value should be:

              title like 'large%'

          If this isn't provided, or if the value is empty, then all the templates that the user has permission to see will
          be returned.
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: order
        in: query
        description: |-
          Order criteria.

          The syntax of this parameter is similar to the syntax of the _order by_ clause of a SQL statement, but using the
          names of the attributes of the templated instead of the names of the columns of a table. For example, in order to
          sort the templates descending by title the value should be:

              name desc

          If the parameter isn't provided, or if the value is empty, then the order of the results is undefined.
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClusterTemplatesListResponse"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
    post:
      tags:
      - ClusterTemplates
      summary: Creates a new cluster template.
      operationId: ClusterTemplates_Create
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1ClusterTemplate"
        required: true
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClusterTemplate"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
      x-codegen-request-body-name: object
  /api/fulfillment/v1/cluster_templates/{id}:
    get:
      tags:
      - ClusterTemplates
      summary: Retrieves the details of one specific cluster template.
      operationId: ClusterTemplates_Get
      parameters:
      - name: id
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClusterTemplate"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
    delete:
      tags:
      - ClusterTemplates
      summary: Delete a cluster template.
      operationId: ClusterTemplates_Delete
      parameters:
      - name: id
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClusterTemplatesDeleteResponse"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
  /api/fulfillment/v1/clusters:
    get:
      tags:
      - Clusters
      summary: Retrieves the list of clusters.
      operationId: Clusters_List
      parameters:
      - name: offset
        in: query
        description: Index of the first result. If not specified the default value
          will be zero.
        required: false
        style: form
        explode: true
        schema:
          type: integer
          format: int32
      - name: limit
        in: query
        description: |-
          Maximum number of results to be returned by the server. When not specified all the results will be returned. Note
          that there may not be enough results to return, and that the server may decide, for performance reasons, to return
          less results than requested.
        required: false
        style: form
        explode: true
        schema:
          type: integer
          format: int32
      - name: filter
        in: query
        description: |-
          Filter criteria.

          The syntax of this parameter is similar to the syntax of the _where_ clause of a SQL statement, but using the names
          of the attributes of the cluster instead of the names of the columns of a table. For example, in order to retrieve
          all the cluster with a API URL starting with `http:` the value should be:

              api_url like 'http:%'

          If this isn't provided, or if the value is empty, then all the clusters that the user has permission to see will be
          returned.
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: order
        in: query
        description: |-
          Order criteria.

          The syntax of this parameter is similar to the syntax of the _order by_ clause of a SQL statement, but using the
          names of the attributes of the cluster instead of the names of the columns of a table. For example, in order to
          sort the clusters descending by API URL the value should be:

              api_url desc

          If the parameter isn't provided, or if the value is empty, then the order of the results is undefined.
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClustersListResponse"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
    post:
      tags:
      - Clusters
      summary: Creates a new cluster.
      description: |-
        Note that this operation is not allowed for regular users, only for the server. Regular users create clusters
        indirectly, creating a cluster order that will eventually result in the system creating a cluster.
      operationId: Clusters_Create
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1Cluster"
        required: true
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1Cluster"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
      x-codegen-request-body-name: object
  /api/fulfillment/v1/clusters/{id}:
    get:
      tags:
      - Clusters
      summary: Retrieves the details of one specific cluster.
      operationId: Clusters_Get
      parameters:
      - name: id
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1Cluster"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
    delete:
      tags:
      - Clusters
      summary: Delete a cluster.
      operationId: Clusters_Delete
      parameters:
      - name: id
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClustersDeleteResponse"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
  /api/fulfillment/v1/clusters/{id}/kubeconfig:
    get:
      tags:
      - Clusters
      summary: Returns the admin Kubeconfig of the cluster.
      description: |-
        This is intended for use with HTTP and returns the YAML text of the Kubeconfig directly using the content type
        `application/yaml`.

        buf:lint:ignore RPC_RESPONSE_STANDARD_NAME
      operationId: Clusters_GetKubeconfigViaHttp
      parameters:
      - name: id
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: A successful response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/apiHttpBody"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
  /api/fulfillment/v1/clusters/{id}/status:
    patch:
      tags:
      - Clusters
      summary: Updates the status of a cluster.
      description: |-
        In the HTTP+JSON version of the API this is mapped to the `PATCH` verb and the `update_mask` field is automatically
        populated from the list of fields present in the request body. For example, to update the `state` of a cluster to
        `READY` the request line should be like this:

        ```http
        PATCH /api/fulfillment/v1/clusters/123/status
        ```

        And the request body should be like this:

        ```json
        {
          "state": "CLUSTER_STATE_READY"
        }
        ```

        The response body will contain the modified status.
      operationId: Clusters_UpdateStatus
      parameters:
      - name: id
        in: path
        required: true
        style: simple
        explode: false
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/v1ClusterStatus"
        required: true
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1ClusterStatus"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
      x-codegen-request-body-name: status
  /api/fulfillment/v1/events:
    get:
      tags:
      - Events
      summary: Start watching events.
      description: |-
        Note that the server doesn't make any guarantee about the delivery or order of these events. In particular events
        that happen while the client is disconnected will not be delivered. Clients should consider using other mechanisms
        to ensure that they process objects correctly. For example, they can combine this watch mechanism with periodic
        redconciliation of all the objects.
      operationId: Events_Watch
      parameters:
      - name: filter
        in: query
        description: |-
          Filter criteria.

          The value of this parameter is a [CEL](https://cel.dev) boolean expression. The `event` variable will contain the
          fields of the event. If the result of the expression is `true` then the event will be sent by the server. For
          example, to receive only the events that indicate that a cluster order has been modified and is now in the
          fulfilled state:

          ```
          event.type == EVENT_TYPE_OBJECT_CREATED && event.cluster_order.status.state == CLUSTER_ORDER_STATE_FULFILLED
          ```

          If this isn't provided, or if the value is empty, then all the events that the user has permission to see will be
          sent by the server.
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: A successful response.(streaming responses)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Stream result of v1EventsWatchResponse"
        default:
          description: An unexpected error response.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/rpcStatus"
components:
  schemas:
    apiHttpBody:
      type: object
      properties:
        content_type:
          type: string
          description: The HTTP Content-Type header value specifying the content type
            of the body.
        data:
          pattern: "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
          type: string
          description: The HTTP request/response body as raw binary.
          format: byte
        extensions:
          type: array
          description: |-
            Application specific response metadata. Must be set in the first response
            for streaming APIs.
          items:
            $ref: "#/components/schemas/protobufAny"
      description: |-
        Message that represents an arbitrary HTTP body. It should only be used for
        payload formats that can't be represented as JSON, such as raw binary or
        an HTML page.


        This message can be used both in streaming and non-streaming API methods in
        the request as well as the response.

        It can be used as a top-level request field, which is convenient if one
        wants to extract parameters from either the URL or HTTP template into the
        request fields and also want access to the raw HTTP body.

        Example:

            message GetResourceRequest {
              // A unique request id.
              string request_id = 1;

              // The raw HTTP body is bound to this field.
              google.api.HttpBody http_body = 2;

            }

            service ResourceService {
              rpc GetResource(GetResourceRequest)
                returns (google.api.HttpBody);
              rpc UpdateResource(google.api.HttpBody)
                returns (google.protobuf.Empty);

            }

        Example with streaming methods:

            service CaldavService {
              rpc GetCalendar(stream google.api.HttpBody)
                returns (stream google.api.HttpBody);
              rpc UpdateCalendar(stream google.api.HttpBody)
                returns (stream google.api.HttpBody);

            }

        Use of this type only changes how the request and response bodies are
        handled, all other features will continue to work unchanged.
    protobufAny:
      type: object
      properties:
        '@type':
          type: string
          description: |-
            A URL/resource name that uniquely identifies the type of the serialized
            protocol buffer message. This string must contain at least
            one "/" character. The last segment of the URL's path must represent
            the fully qualified name of the type (as in
            `path/google.protobuf.Duration`). The name should be in a canonical form
            (e.g., leading "." is not accepted).

            In practice, teams usually precompile into the binary all types that they
            expect it to use in the context of Any. However, for URLs which use the
            scheme `http`, `https`, or no scheme, one can optionally set up a type
            server that maps type URLs to message definitions as follows:

            * If no scheme is provided, `https` is assumed.
            * An HTTP GET on the URL must yield a [google.protobuf.Type][]
              value in binary format, or produce an error.
            * Applications are allowed to cache lookup results based on the
              URL, or have them precompiled into a binary to avoid any
              lookup. Therefore, binary compatibility needs to be preserved
              on changes to types. (Use versioned type names to manage
              breaking changes.)

            Note: this functionality is not currently available in the official
            protobuf release, and it is not used for type URLs beginning with
            type.googleapis.com. As of May 2023, there are no widely used type server
            implementations and no plans to implement one.

            Schemes other than `http`, `https` (or the empty scheme) might be
            used with implementation specific semantics.
      additionalProperties:
        type: object
      description: |-
        `Any` contains an arbitrary serialized protocol buffer message along with a
        URL that describes the type of the serialized message.

        Protobuf library provides support to pack/unpack Any values in the form
        of utility functions or additional generated methods of the Any type.

        Example 1: Pack and unpack a message in C++.

            Foo foo = ...;
            Any any;
            any.PackFrom(foo);
            ...
            if (any.UnpackTo(&foo)) {
              ...
            }

        Example 2: Pack and unpack a message in Java.

            Foo foo = ...;
            Any any = Any.pack(foo);
            ...
            if (any.is(Foo.class)) {
              foo = any.unpack(Foo.class);
            }
            // or ...
            if (any.isSameTypeAs(Foo.getDefaultInstance())) {
              foo = any.unpack(Foo.getDefaultInstance());
            }

         Example 3: Pack and unpack a message in Python.

            foo = Foo(...)
            any = Any()
            any.Pack(foo)
            ...
            if any.Is(Foo.DESCRIPTOR):
              any.Unpack(foo)
              ...

         Example 4: Pack and unpack a message in Go

             foo := &pb.Foo{...}
             any, err := anypb.New(foo)
             if err != nil {
               ...
             }
             ...
             foo := &pb.Foo{}
             if err := any.UnmarshalTo(foo); err != nil {
               ...
             }

        The pack methods provided by protobuf library will by default use
        'type.googleapis.com/full.type.name' as the type URL and the unpack
        methods only use the fully qualified type name after the last '/'
        in the type URL, for example "foo.bar.com/x/y.z" will yield type
        name "y.z".

        JSON
        ====
        The JSON representation of an `Any` value uses the regular
        representation of the deserialized, embedded message, with an
        additional field `@type` which contains the type URL. Example:

            package google.profile;
            message Person {
              string first_name = 1;
              string last_name = 2;
            }

            {
              "@type": "type.googleapis.com/google.profile.Person",
              "firstName": <string>,
              "lastName": <string>
            }

        If the embedded message type is well-known and has a custom JSON
        representation, that representation will be embedded adding a field
        `value` which holds the custom JSON in addition to the `@type`
        field. Example (for message [google.protobuf.Duration][]):

            {
              "@type": "type.googleapis.com/google.protobuf.Duration",
              "value": "1.212s"
            }
    rpcStatus:
      type: object
      properties:
        code:
          type: integer
          format: int32
        message:
          type: string
        details:
          type: array
          items:
            $ref: "#/components/schemas/protobufAny"
    v1Cluster:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier of the cluster.
        spec:
          $ref: "#/components/schemas/v1ClusterSpec"
        status:
          $ref: "#/components/schemas/v1ClusterStatus"
      description: |-
        Contains the details of the cluster.

        The `spec` contains the desired details, and may be modified by the user. The `status` contains the current status of
        the cluster, is provided by the system and can't be modified by the user.
    v1ClusterCondition:
      type: object
      properties:
        type:
          $ref: "#/components/schemas/v1ClusterConditionType"
        status:
          type: boolean
          description: Indicates the status of the condition.
        last_transition_time:
          type: string
          description: This time is the last time that the condition was updated.
          format: date-time
        reason:
          type: string
          description: |-
            Contains a the reason of the condition in a format suitable for use by programs.

            The possible values will be documented in the object that contains the condition.
        message:
          type: string
          description: |-
            Contains a text giving more details of the condition.

            This will usually be progress reports, or error messages, and are intended for use by humans, to debug problems.
      description: Contains the details of a condition that describes the status of
        a cluster.
    v1ClusterConditionType:
      type: string
      description: |-
        Types of conditions used to describe the status of cluster.

         - CLUSTER_CONDITION_TYPE_UNSPECIFIED: Unspecified indicates that the condition is unknown.

        This will never be appear in the `spec.conditions` field of a cluster.
         - CLUSTER_CONDITION_TYPE_PROGRESSING: Indicates that the cluster isn't completely ready yet.

        Currently there are no `reason` values defined.
         - CLUSTER_CONDITION_TYPE_READY: Indicates that the cluster is ready to use.

        Currently there are no `reason` values defined.
         - CLUSTER_CONDITION_TYPE_FAILED: Indicates that the cluster is unusable.

        Currently there are no `reason` values defined.
      default: CLUSTER_CONDITION_TYPE_UNSPECIFIED
      enum:
      - CLUSTER_CONDITION_TYPE_UNSPECIFIED
      - CLUSTER_CONDITION_TYPE_PROGRESSING
      - CLUSTER_CONDITION_TYPE_READY
      - CLUSTER_CONDITION_TYPE_FAILED
    v1ClusterOrder:
      type: object
      properties:
        id:
          type: string
          description: |-
            Unique identifier of the order.

            This will be automatically generated by the system when the order is placed.
        spec:
          $ref: "#/components/schemas/v1ClusterOrderSpec"
        status:
          $ref: "#/components/schemas/v1ClusterOrderStatus"
      description: |-
        Contains the details that the user provides to request the provisioning of a cluster, as well as the current status
        of the order provided by the system.
    v1ClusterOrderCondition:
      type: object
      properties:
        type:
          $ref: "#/components/schemas/v1ClusterOrderConditionType"
        status:
          $ref: "#/components/schemas/v1ConditionStatus"
        last_transition_time:
          type: string
          description: This time is the last time that the condition was updated.
          format: date-time
        reason:
          type: string
          description: |-
            Contains a the reason of the condition in a format suitable for use by programs.

            The possible are documented in the `ClusterOrderConditionType` object.
        message:
          type: string
          description: |-
            Contains a text giving more details of the condition. This will usually be progress reports, or error messages, and
            are intended for use by humans, to debug problems.
      description: Contains the details of a condition that describes the status of
        a cluster order.
    v1ClusterOrderConditionType:
      type: string
      description: |-
        Types of conditions used to describe a cluster order.

         - CLUSTER_ORDER_CONDITION_TYPE_UNSPECIFIED: Unspecified indicates that the condition unknown.

        This will never be appear in the `spec.conditions` field of a order.
         - CLUSTER_ORDER_CONDITION_TYPE_ACCEPTED: Accepted indicates that the order has been accepted by the system.
         - CLUSTER_ORDER_CONDITION_TYPE_REJECTED: Rejected indicates that the order has been rejected by the system, so no further processing will be fulfill it.
         - CLUSTER_ORDER_CONDITION_TYPE_CANCELED: Canceled indicates that the order has been canceled by the user.
         - CLUSTER_ORDER_CONDITION_TYPE_FULFILLED: Fulfilled indicates that the order has been successfully fulfilled.

        The details of the resulting cluster will be available in the `cluster` object indicated by the `status.cluster_id`
        field.
         - CLUSTER_ORDER_CONDITION_TYPE_FAILED: Failed indicates that fulfillment of the order failed.

        Currently there are no sepcific `reason` values defined.
      default: CLUSTER_ORDER_CONDITION_TYPE_UNSPECIFIED
      enum:
      - CLUSTER_ORDER_CONDITION_TYPE_UNSPECIFIED
      - CLUSTER_ORDER_CONDITION_TYPE_ACCEPTED
      - CLUSTER_ORDER_CONDITION_TYPE_REJECTED
      - CLUSTER_ORDER_CONDITION_TYPE_CANCELED
      - CLUSTER_ORDER_CONDITION_TYPE_FULFILLED
      - CLUSTER_ORDER_CONDITION_TYPE_FAILED
    v1ClusterOrderSpec:
      type: object
      properties:
        template_id:
          type: string
          description: |-
            Reference to the cluster template.

            This is mandatory, and must be the value of the `id` field of one of the cluster templates.
        template_parameters:
          type: object
          additionalProperties:
            $ref: "#/components/schemas/protobufAny"
          description: |-
            Values of the template parameters.

            When using the HTTP+JSON version of the API the values must be represented as documented in the (ProtoJSON format
            document)[https://protobuf.dev/programming-guides/json]. For example, if the template has a `number_of_nodes`
            parameter of integer type, the complete order should be represented like this:

            ```json
            {
              "template_id": "123",
              "template_parameters": {
                "number_of_nodes": {
                  "@type": "type.googleapis.com/google.protobuf.Int32Value",
                  "value": 42
                }
              }
            }
            ```

            The possible values of the `@type` are the same as those used by the `type_url` field of the `Any` type:

            | Type                           | Value                                             |
            |--------------------------------|---------------------------------------------------|
            | Boolean                        | `type.googleapis.com/google.protobuf.BoolValue`   |
            | Integer number, 32 bits        | `type.googleapis.com/google.protobuf.Int32Value`  |
            | Integer number, 64 bits        | `type.googleapis.com/google.protobuf.Int64Value`  |
            | Floating point number, 32 bits | `type.googleapis.com/google.protobuf.FloatValue`  |
            | Floating point number, 64 bits | `type.googleapis.com/google.protobuf.DoubleValue` |
            | String                         | `type.googleapis.com/google.protobuf.StringValue` |
            | Timestamp                      | `type.googleapis.com/google.protobuf.Timestamp`   |
            | Duration                       | `type.googleapis.com/google.protobuf.Duration`    |
            | Array of bytes                 | `type.googleapis.com/google.protobuf.BytesValue`  |
            | Any JSON value                 | `type.googleapis.com/google.protobuf.Value`       |
      description: Contains the details that the user provides to request the provisioning
        of the cluster.
    v1ClusterOrderState:
      type: string
      description: |-
        Represents the overall state of the order.

         - CLUSTER_ORDER_STATE_UNSPECIFIED: Unspecified indicates that the state is unknown.
         - CLUSTER_ORDER_STATE_PROGRESSING: Indicates that the order isn't completelly fulfilled yet.
         - CLUSTER_ORDER_STATE_FULFILLED: Indicates indicates that the order has been successfully fulfilled.

        The details of the resulting cluster will be available in the `cluster` object indicated by the `status.cluster_id`
        field.
         - CLUSTER_ORDER_STATE_FAILED: Indicates that fulfillment of the order failed.
      default: CLUSTER_ORDER_STATE_UNSPECIFIED
      enum:
      - CLUSTER_ORDER_STATE_UNSPECIFIED
      - CLUSTER_ORDER_STATE_PROGRESSING
      - CLUSTER_ORDER_STATE_FULFILLED
      - CLUSTER_ORDER_STATE_FAILED
    v1ClusterOrderStatus:
      type: object
      properties:
        state:
          $ref: "#/components/schemas/v1ClusterOrderState"
        conditions:
          type: array
          description: |-
            Contains a list of conditions that describe in detail the status of the order.

            For example, an order that failed could be represented like this (when converted to JSON):

               {
                 "id": "123",
                 "spec": {
                   "template_id": "245"
                 },
                 "state": "CLUSTER_ORDER_STATE_FAILED",
                 "status": {
                   "conditions": [
                     {
                       "type: "CLUSTER_ORDER_CONDITION_TYPE_ACCEPTED",
                       "status": "CONDITION_STATUS_TRUE",
                       "last_transition_time": "2025-03-12 20:15:59+00:00",
                       "message": "The order has been automatically approved"
                     },
                     {
                       "type": "CLUSTER_ORDER_CONDITION_TYPE_FULFILLED",
                       "status": "CONDITION_STATUS_FALSE",
                       "last_transition_time": "2025-03-12 20:17:16+00:00"
                     },
                     {
                       "type": "CLUSTER_ORDER_CONDITION_TYPE_FAILED",
                       "status": "CONDITION_STATUS_TRUE",
                       "last_transition_time": "2025-03-12 20:18:59+00:00",
                       "reason": "DnsProvisioningFailure",
                       "message": "Failed to create DNS domain 'example.com' because it already exists"
                     }
                   ]
                 }
               }

            In this example the `ACCEPTED` condition is true. That tells us that the order was accepted, and the details tell
            us that it was automatically approved.

            The `FUFILLED` condition isn't false. That means that order isn't fulfilled, without any other detail.

            The `FAILED` condition is true, so it is telling us that the fulfillment failed. It also gives additional detail
            in the with both a _reason_ intended for use by programs, and some some details to help humans understand and debug
            the issue.

            Note that in this example, to make it shorter, only three conditions appear. In general all the conditions (except
            `UNPSECIFIED`) will appear exactly once.

            Note also that this is just an example, in particular the `DnsProvisioningFailure` reason for the failed condition
            is imaginary. Check the documentation of the values of the `ClusterOrderConditionType` enumerated type to see
            possible values for the reason.
          items:
            $ref: "#/components/schemas/v1ClusterOrderCondition"
        cluster_id:
          type: string
          description: |-
            Reference to the resulting cluster.

            This will be automatically populated by the system when the requested cluster is completely provisoned. Further
            details about the cluster, like the API URL, will be available in the corresponding `Cluster` object.
      description: Contains the current status of the order.
    v1ClusterOrdersCreateResponse:
      type: object
      properties:
        object:
          $ref: "#/components/schemas/v1ClusterOrder"
    v1ClusterOrdersDeleteResponse:
      type: object
    v1ClusterOrdersGetResponse:
      type: object
      properties:
        object:
          $ref: "#/components/schemas/v1ClusterOrder"
    v1ClusterOrdersListResponse:
      type: object
      properties:
        size:
          type: integer
          description: |-
            Actual number of items returned. Note that this may be smaller than the value requested in the `limit` parameter
            of the request if there are not enough items, or of the system decides that returning that number of items isn't
            feasible or convenient for performance reasons.
          format: int32
        total:
          type: integer
          description: |-
            Total number of items of the collection that match the search criteria, regardless of the number of results
            requested with the `limit` parameter.
          format: int32
        items:
          type: array
          description: List of results.
          items:
            $ref: "#/components/schemas/v1ClusterOrder"
    v1ClusterOrdersUpdateStatusResponse:
      type: object
      properties:
        status:
          $ref: "#/components/schemas/v1ClusterOrderStatus"
    v1ClusterSpec:
      type: object
      description: |-
        The spec contains the details of a cluster as desired by the user.

        Note that currently this is empty because there are no properties of the cluster that can be modified by the user.
    v1ClusterState:
      type: string
      description: |-
        Represents the overall state of a cluster.

         - CLUSTER_STATE_UNSPECIFIED: Unspecified indicates that the state is unknown.
         - CLUSTER_STATE_PROGRESSING: Indicates that the cluster isn't ready yet.
         - CLUSTER_STATE_READY: Indicates indicates that the cluster is ready.
         - CLUSTER_STATE_FAILED: Indicates indicates that the cluster is unusable.
      default: CLUSTER_STATE_UNSPECIFIED
      enum:
      - CLUSTER_STATE_UNSPECIFIED
      - CLUSTER_STATE_PROGRESSING
      - CLUSTER_STATE_READY
      - CLUSTER_STATE_FAILED
    v1ClusterStatus:
      type: object
      properties:
        state:
          $ref: "#/components/schemas/v1ClusterState"
        conditions:
          type: array
          description: |-
            Contains a list of conditions that describe in detail the status of the cluster.

            For example, an cluster that is ready could be represented like this (when converted to JSON):

               {
                 "id": "123",
                 "spec": {
                 },
                 "status": {
                   "state": "CLUSTER_STATE_READY",
                   "conditions": [
                     {
                       "type": "CLUSTER_CONDITION_TYPE_READY",
                       "status": "CONDITION_STATUS_TRUE",
                       "last_transition_time": "2025-03-12 20:15:59+00:00",
                       "message": "The cluster is ready to use",
                     },
                     {
                       "type": "CLUSTER_CONDITION_TYPE_FAILED",
                       "status": "CONDITION_STATUS_FALSE",
                       "last_transition_time": "2025-03-12 20:10:59+00:00"
                     }
                   ]
                 }
               }

            In this example the `READY` condition is true. That tells us that the cluster is ready to use via the API URL
            provided in the `status.api_url` field.

            The `FAILED` condition is false. That tells us that the cluster is *not* failed.

            Note that in this example, to make it shorter, only one condition appears. In general all the conditions (except
            `UNSPECIFIED`) will appear exactly once.

            Check the documentation of the values of the `ClusterConditionType` enumerated type to see possible conditions and
            reasons.
          items:
            $ref: "#/components/schemas/v1ClusterCondition"
        api_url:
          type: string
          description: |-
            URL of te API server of the cluster.

            This will be empty if the cluster isn't ready.
        console_url:
          type: string
          description: |-
            URL of the console of the cluster.

            This will be empty if the cluster isn't ready or the console isn't enabled.
      description: The status contains the details of the cluster provided by the
        system.
    v1ClusterTemplate:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier of the template.
        title:
          type: string
          description: |-
            Human friendly short description of the template, only a few words, suitable for displaying in one single
            line on a UI or CLI.
        description:
          type: string
          description: "Human friendly long description of the template, using Markdown\
            \ format."
        parameters:
          type: array
          description: |-
            Definitions of the parameters that can be used to customize the template.

            Note that these are only the *definitions* of the parameters, not the actual values. The actual values are in the
            `spec.template_parameters` field of the cluster order.
          items:
            $ref: "#/components/schemas/v1ClusterTemplateParameterDefinition"
      description: |-
        A cluster template defines a type of cluster that can be ordered by the user. Note that the user doesn't create these
        templates: the system provides a collection of them, and the user chooses one.
    v1ClusterTemplateParameterDefinition:
      type: object
      properties:
        name:
          type: string
          description: |-
            Name of the parameter.

            This is the name that should be used in the `template_parameters` field of the order to assign a value to the
            parameter.
        title:
          type: string
          description: |-
            Human friendly short description of the parameter, only a few words, suitable for displaying in one single line on
            a UI or CLI.
        description:
          type: string
          description: "Human friendly description of the parameter, using Markdown\
            \ format."
        required:
          type: boolean
          description: |-
            Indicates if this parameter is required or optional.

            Values for required parameters must be included when sending the order, otherwise it will be rejected.

            Note that there may be other dependencies between parameters which may cause a order to be rejected. For example,
            the allowed values of a parameter may depend on the value of another parameter. That kind of information will be in
            the `description` field.
        type:
          type: string
          description: |-
            Type of the parameter.

            The possible values are the same as those used by the `type_url` field of the `Any` type:

            | Type                           | Value                                             |
            |--------------------------------|---------------------------------------------------|
            | Boolean                        | `type.googleapis.com/google.protobuf.BoolValue`   |
            | Integer number, 32 bits        | `type.googleapis.com/google.protobuf.Int32Value`  |
            | Integer number, 64 bits        | `type.googleapis.com/google.protobuf.Int64Value`  |
            | Floating point number, 32 bits | `type.googleapis.com/google.protobuf.FloatValue`  |
            | Floating point number, 64 bits | `type.googleapis.com/google.protobuf.DoubleValue` |
            | String                         | `type.googleapis.com/google.protobuf.StringValue` |
            | Timestamp                      | `type.googleapis.com/google.protobuf.Timestamp`   |
            | Duration                       | `type.googleapis.com/google.protobuf.Duration`    |
            | Array of bytes                 | `type.googleapis.com/google.protobuf.BytesValue`  |
            | Any JSON value                 | `type.googleapis.com/google.protobuf.Value`       |

            When using the HTTP+JSON version of the API the value provided in the `template_parameters` field of the order
            must be represented as documented in the (ProtoJSON format document)[https://protobuf.dev/programming-guides/json].
        default:
          $ref: "#/components/schemas/protobufAny"
      description: Contains type and documentation of a template parameter.
    v1ClusterTemplatesCreateResponse:
      type: object
      properties:
        object:
          $ref: "#/components/schemas/v1ClusterTemplate"
    v1ClusterTemplatesDeleteResponse:
      type: object
    v1ClusterTemplatesGetResponse:
      type: object
      properties:
        object:
          $ref: "#/components/schemas/v1ClusterTemplate"
    v1ClusterTemplatesListResponse:
      type: object
      properties:
        size:
          type: integer
          description: |-
            Actual number of items returned. Note that this may be smaller than the value requested in the `limit` parameter
            of the request if there are not enough items, or of the system decides that returning that number of items isn't
            feasible or convenient for performance reasons.
          format: int32
        total:
          type: integer
          description: |-
            Total number of items of the collection that match the search criteria, regardless of the number of results
            requested with the `limit` parameter.
          format: int32
        items:
          type: array
          description: List of results.
          items:
            $ref: "#/components/schemas/v1ClusterTemplate"
    v1ClustersCreateResponse:
      type: object
      properties:
        object:
          $ref: "#/components/schemas/v1Cluster"
    v1ClustersDeleteResponse:
      type: object
    v1ClustersGetKubeconfigResponse:
      type: object
      properties:
        kubeconfig:
          type: string
    v1ClustersGetResponse:
      type: object
      properties:
        object:
          $ref: "#/components/schemas/v1Cluster"
    v1ClustersListResponse:
      type: object
      properties:
        size:
          type: integer
          description: |-
            Actual number of items returned. Note that this may be smaller than the value requested in the `limit` parameter
            of the request if there are not enough items, or of the system decides that returning that number of items isn't
            feasible or convenient for performance reasons.
          format: int32
        total:
          type: integer
          description: |-
            Total number of items of the collection that match the search criteria, regardless of the number of results
            requested with the `limit` parameter.
          format: int32
        items:
          type: array
          description: List of results.
          items:
            $ref: "#/components/schemas/v1Cluster"
    v1ClustersUpdateStatusResponse:
      type: object
      properties:
        status:
          $ref: "#/components/schemas/v1ClusterStatus"
    v1ConditionStatus:
      type: string
      description: |2-
         - CONDITION_STATUS_UNSPECIFIED: Indicates that the system can't decide if the object is in the condition or not.
         - CONDITION_STATUS_TRUE: Indicates that the object is in the condition.
         - CONDITION_STATUS_FALSE: Indicates that the object is not in the condition.
      default: CONDITION_STATUS_UNSPECIFIED
      enum:
      - CONDITION_STATUS_UNSPECIFIED
      - CONDITION_STATUS_TRUE
      - CONDITION_STATUS_FALSE
    v1Event:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier of the event.
        type:
          $ref: "#/components/schemas/v1EventType"
        cluster:
          $ref: "#/components/schemas/v1Cluster"
        cluster_order:
          $ref: "#/components/schemas/v1ClusterOrder"
        cluster_template:
          $ref: "#/components/schemas/v1ClusterTemplate"
      description: Represents events delivered by the server.
    v1EventType:
      type: string
      description: |2-
         - EVENT_TYPE_UNSPECIFIED: Unspecified means that the even type is unknown.
         - EVENT_TYPE_OBJECT_CREATED: Means that a new object has been created.

        The payload will contain the representation of the object.
         - EVENT_TYPE_OBJECT_UPDATED: Means that an existing object has been modified.

        The payload will contain the updated representation of the object.
         - EVENT_TYPE_OBJECT_DELETED: Means that an object has been deleted.

        The payload will contain the representation of the object right before it was deleted.
      default: EVENT_TYPE_UNSPECIFIED
      enum:
      - EVENT_TYPE_UNSPECIFIED
      - EVENT_TYPE_OBJECT_CREATED
      - EVENT_TYPE_OBJECT_UPDATED
      - EVENT_TYPE_OBJECT_DELETED
    v1EventsWatchResponse:
      type: object
      properties:
        event:
          $ref: "#/components/schemas/v1Event"
    Stream result of v1EventsWatchResponse:
      title: Stream result of v1EventsWatchResponse
      type: object
      properties:
        result:
          $ref: "#/components/schemas/v1EventsWatchResponse"
        error:
          $ref: "#/components/schemas/rpcStatus"
x-original-swagger-version: "2.0"
